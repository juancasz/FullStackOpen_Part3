{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","onChange","handleInputSearch","PersonForm","onSubmit","addContact","value","newName","handleInputName","newNumber","handleInputNumber","type","Name","person","handleDelete","name","number","id","onClick","Persons","persons","undefined","personsList","map","key","Notification","message","configure","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","showAll","setShowAll","searchFor","setSearchFor","setMessage","setColor","useEffect","personService","initialPersons","personsToDisplay","filter","toLowerCase","indexOf","event","target","preventDefault","length","window","confirm","find","p","changedPerson","returnedPerson","setTimeout","catch","error","console","log","concat","errorMessage","idDelete","personToDelete","deleted","newPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4c66c511.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return(\n        <div>\n            <p>filter shown with<input onChange={props.handleInputSearch}/></p>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n    return(\n        <form onSubmit={props.addContact}>\n        <div>\n          name: <input value={props.newName} onChange={props.handleInputName}/>\n        </div>\n        <div>\n          number: <input value={props.newNumber} onChange={props.handleInputNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Name = ({person,handleDelete}) => {\n    return <>{person.name} {person.number} <button id={person.id} onClick={handleDelete}>delete</button><br/></>\n}\n\nconst Persons = ({persons,handleDelete}) => {\n    \n    if(persons === undefined){\n      return <div></div>\n    }\n\n    const personsList = persons.map((person) => { \n        return <Name key={person.id} person={person} handleDelete={handleDelete}/>\n    })\n\n    return(\n      <div>\n        {personsList}\n      </div>  \n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message,color }) => {\n    const configure = {\n        color: color,\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div style={configure}>\n        {message}\n      </div>\n    )\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl,newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) =>{\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\nexport default {getAll, create, remove, update}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [searchFor, setSearchFor] = useState(\"\")\n  const [message, setMessage] = useState(null)\n  const [color,setColor] = useState(\"green\")\n\n  const hook = () =>{\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }\n\n  useEffect(hook,[])\n\n  const personsToDisplay = showAll\n                  ?persons\n                  :persons.filter((person) => person.name.toLowerCase().indexOf(searchFor) > -1 )\n\n  const handleInputName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleInputNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleInputSearch = (event) => {\n    if(event.target.value === \"\"){\n      setShowAll(true)\n    }else{\n      setShowAll(false)\n      setSearchFor(event.target.value.toLowerCase())\n    }\n  }\n\n  const addContact = (event) => {\n    event.preventDefault()\n    const personToAdd = persons.filter((person) => person.name === newName)\n    if(personToAdd.length > 0){\n      const add = window.confirm(`${newName} is already added to phonebook, replace the older number with a new one?`) \n      if(add){\n        const person = persons.find(p => p.name === newName)\n        const changedPerson = {...person,number:newNumber}\n        const id = person.id\n        personService\n          .update(id,changedPerson)\n          .then(returnedPerson =>{\n            setPersons(persons.map(person => person.id === id ? returnedPerson : person ) )\n            setMessage(`Updated ${newName}`)\n            setTimeout(() =>{\n              setMessage(null)\n            },5000)\n          })\n          .catch(error => {\n            setColor(\"red\")\n            //setMessage(`${personToAdd[0].name} has already been removed from the server`)\n            console.log(error.response)\n            //setMessage(`Person validation failed: number: Path \"number\" (\"${newNumber}\") is shorter than the minimum allowed length (8).`)\n            setTimeout(() =>{\n              setMessage(null)\n              setColor(\"green\")\n            },5000)  \n          })\n      }\n      setNewName(\"\") \n      setNewNumber(\"\")\n    }else{\n      const person ={\n        name: newName,\n        number: newNumber,\n      }\n      personService\n        .create(person)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage(`Added ${person.name}`)\n          setTimeout(() =>{\n            setMessage(null)\n          },5000)\n          setNewName(\"\")  \n          setNewNumber(\"\")\n        })\n        .catch(error => {\n          setColor(\"red\")\n          //setMessage(`${person.name} has already been removed from the server`)\n          setMessage(error.response.data.errorMessage)\n          setTimeout(() =>{\n            setMessage(null)\n            setColor(\"green\")\n          },5000)  \n        })\n    }\n  }\n\n  const handleDelete = (event) =>{\n      const idDelete = event.target.id\n      const personToDelete = persons.find((person) => person.id === idDelete)\n      const remove = window.confirm(`Delete ${personToDelete.name}?`)\n      if(remove){\n        let deleted = true\n        personService\n          .remove(personToDelete.id)\n          .catch(error => {\n            setColor(\"red\")\n            setMessage(`${personToDelete.name} has already been removed from the server`)\n            setTimeout(() =>{\n              setMessage(null)\n              setColor(\"green\")\n            },5000)  \n            deleted = false\n          })\n        if(deleted){\n          const newPersons = persons.filter((person) => person.id !== personToDelete.id)\n          setPersons(newPersons)\n          setMessage(`Deleted ${personToDelete.name}`)\n          setTimeout(() =>{\n            setMessage(null)\n          },5000)  \n        }\n      }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} color={color} />\n      <Filter handleInputSearch={(event)=>handleInputSearch(event)}/>\n      <PersonForm addContact={(event)=>addContact(event)} newName={newName} \n        handleInputName={(event) => handleInputName(event)} newNumber={newNumber} \n        handleInputNumber={(event) => handleInputNumber(event)} />\n      <h2>Numbers</h2>\n      <Persons persons={personsToDisplay} handleDelete={(event)=>handleDelete(event)} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(<App/>,document.getElementById('root'));\n\n\n"],"sourceRoot":""}